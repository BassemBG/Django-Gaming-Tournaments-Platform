<!doctype html>
<html lang="zxx">
{% load static %}
<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>gaming</title>
	<link rel="icon" href="{% static 'img/favicon.png' %}">
	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
	<!-- animate CSS -->
	<link rel="stylesheet" href="{% static 'css/animate.css' %}">
	<!-- owl carousel CSS -->
	<link rel="stylesheet" href="{% static 'css/owl.carousel.min.css' %}">
	<!-- font awesome CSS -->
	<link rel="stylesheet" href="{% static 'css/all.css' %}">
	<!-- flaticon CSS -->
	<link rel="stylesheet" href="{% static 'css/flaticon.css' %}">
	<link rel="stylesheet" href="{% static 'css/themify-icons.css' %}">
	<link rel="stylesheet" href="{% static 'css/nice-select.css' %}">
	<!-- font awesome CSS -->
	<link rel="stylesheet" href="{% static 'css/magnific-popup.css' %}">
	<!-- swiper CSS -->
	<link rel="stylesheet" href="{% static 'css/slick.css' %}">
	<!-- style CSS -->
	<link rel="stylesheet" href="{% static 'css/style.css' %}">

	<!--::table style start::-->
	<style>
		.body_bg {
			background-color: #000; /* Dark background for the body */
		}
		.table-custom {
			width: 80%; /* Increased width of the table */
			margin: -150px auto 20px auto; /* Negative margin-top to move it up slightly */
			background-color: rgba(0, 0, 0, 0); /* Increased transparency for the table */
			color: rgb(0, 0, 0); /* White text color */
			border-radius: 8px; /* Rounded corners */
			overflow: hidden; /* Prevents border radius from being clipped */
			box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3); /* Shadow effect */
		}
		.table-custom thead {
			background: linear-gradient(to right, red, #8B008B); /* Darker purple for the header */
		}
		.table-custom th {
			color: white; /* White text color for headers */
			padding: 20px; /* Increased padding for table header */
			text-align: center; /* Center text alignment */
			border: none; /* No border */
		}
		.table-custom th:hover {
			background: linear-gradient(to right, darkred, #4B0082); /* Darker gradient on hover */
		}
		.table-custom td {
			padding: 15px; /* Increased padding for table cells */
			text-align: center; /* Center text alignment */
			border-bottom: 1px solid rgba(255, 255, 255, 0.1); /* Light border for separation */
		}
		.table-custom tr:hover {
			background-color: rgba(255, 255, 255, 0.1); /* Light hover effect on rows */
		}
		h1 {
			color: white; /* White color for the heading */
			margin-bottom: 20px; /* Space below the heading */
			text-align: center; /* Center the heading */
		}
	</style>
	<!--::table style end::-->
</head>

<body>
	<!--::header part start::-->
	<header class="main_menu single_page_menu">
		<div class="container">
			<div class="row align-items-center">
				<div class="col-lg-12">
					<nav class="navbar navbar-expand-lg navbar-light">
						<a class="navbar-brand" href=""> <img src="{% static 'img/logo.png' %}" alt="logo" height="200px" > </a>
						<button class="navbar-toggler" type="button" data-toggle="collapse"
							data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
							aria-expanded="false" aria-label="Toggle navigation">
							<span class="menu_icon"><i class="fas fa-bars"></i></span>
						</button>
						<div class="collapse navbar-collapse main-menu-item" id="navbarSupportedContent">
							<ul class="navbar-nav">
								<li class="nav-item">
								  <a class="nav-link" href="{% url 'home' %}">Home</a>
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="{% url 'Sponsors_form' %}"
									>sponsor a tournament</a
								  >
								</li>
								<li class="nav-item">
								  <a class="nav-link" href=" {% url 'Games_list' %}"
									>Our Games</a
								  >
								  <!-- Updated to use the ID -->
								</li>
								<li class="nav-item">
								  <a class="nav-link" href=" {% url 'Tournaments_View' %}"
									>Our Tournaments</a
								  >
								  <!-- Updated to use the ID -->
								</li>
								<li class="nav-item">
								  <a class="nav-link" href=" {% url 'chatbot_query' %}"
									>Ask Chatbot</a
								  >
								  <!-- Updated to use the ID -->
								</li>
								<li class="nav-item">
								  <a class="nav-link" href=" {% url 'Equipments_View' %}"
									>Equipments</a
								  >
								</li>
								<li class="nav-item">
								  <a class="nav-link" href="#" onclick="startVoiceCommand()">
									üéôÔ∏è Voice Command
								  </a>
								</li>
							  </ul>
						</div>
						{% if user.is_authenticated %}
							<a href="{% url 'profile' user.cin %}" class="btn_1 d-none d-sm-block">Profile</a>
							<a href="{% url 'logout' %}" class="btn_1 d-none d-sm-block">Logout</a>
						{% else %}
							<a href="{% url 'login' %}" class="btn_1 d-none d-sm-block">Login</a>
							<a href="{% url 'register' %}" class="btn_1 d-none d-sm-block">SignUp</a>
						{% endif %}
						
					</nav>
				</div>
			</div>
		</div>
	</header>
	<Header part end>



	<!-- breadcrumb start -->
	<section class="breadcrumb breadcrumb_bg">
		<div class="container">
			<div class="row">
				<div class="col-lg-12">
					<div class="breadcrumb_iner text-center">
						<div class="breadcrumb_iner_item">
							<h2>Tournaments</h2>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>


	<!-- Tournament + Form Styles -->
	<style>
		/* General Section Styles */
		.tournament-section {
			padding: 5%;
			background-color: transparent;
			color: #ffffff;
			font-family: 'Arial', sans-serif;
			display: flex;
			justify-content: center; /* Centers the grid horizontally */
			align-items: center; /* Centers the grid vertically (if needed) */
			flex-direction: column; /* Ensures content like pagination stays below the grid */
			min-height: 100vh; /* Ensures the section takes full screen height */
		}
		.tournament-wrapper {
			display: flex;
			justify-content: center;
			
		}

		/* Grid Layout for Cards */
		.tournament-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* Ensures cards adapt to available space */
			gap: 60px; /* Controls the spacing between cards */
			justify-content: center; /* Centers the grid horizontally */
			max-width: 1200px; /* Sets a maximum width for the grid */
			width: 100%; /* Ensures the grid takes up available space */
		}
		
		
		/* Card Styling */
		.tournament-card {
			background: #29293d;
			border-radius: 10px;
			box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
			padding: 20px;
			display: flex;
			flex-direction: column;
			justify-content: space-between;
			min-height: 525px; /* Sets a consistent height for cards */
			max-width: 350px; /* Sets a consistent width for cards */
			width: 100%; /* Makes sure the cards are responsive */
			position: relative;
			transition: all 0.3s ease-in-out; /* Smooth transition for hover effects */
		}

		/* Card hover effect */
		.tournament-card:hover {
			transform: scale(1.04); /* Slightly enlarges card on hover */
			transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out; /* Adds smooth scale and shadow effects */
			box-shadow: 0 6px 10px rgba(0, 0, 0, 0.4);
		}

	
		.card-header h3 {
			font-size: 1.5rem;
			color: #fff;
		}

		.status {
			padding: 5px 10px;
			border-radius: 5px;
			font-size: 0.9rem;
			text-transform: capitalize;
		}

		.status.upcoming {
			background-color: #4caf50;
			color: #fff;
		}

		.status.cancelled {
			background-color: #f44336;
			color: #fff;
		}
		.status.completed {
			background-color: #ccee0e;
			color: #fff;
		}
		.status.ongoing {
			background-color: #00ff4c;
			color:¬†#fff;
		}

		/* Card Footer Styling */
		.card-footer {
			margin-top: 10px;
			border-top: 1px solid rgba(255, 255, 255, 0.1);
			padding-top: 10px;
		}

		/* Card Body Styling */
		.card-body {
			display: flex;
			flex-direction: column;
			gap: 10px;
			padding: 15px 0;
			color: #e0e0e0;
		}

		.card-body p {
			margin: 0;
			font-size: 0.95rem;
			line-height: 1.5;
			display: flex;
			align-items: flex-start;
			gap: 8px;

			transition: all 0.5s ease-in-out; /* Adds smooth transition */
			cursor: pointer;
			position: relative;
		}
		.card-body p:hover {
			background: #383848;
			padding: 10px;
			border-radius: 8px;
			position: relative;
			z-index: 10;
			max-height: none; /* Removes height limit */
			box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
			line-height: 1.5; /* Consistent line spacing */
			white-space: normal; /* Allows text to wrap */
		}

		.card-body i {
			color: #fd44a0;
			font-size: 1.1rem;
		}

		.card-body strong {
			font-weight: bold;
			color: #ffffff;
		}

		/* Description Styling */
		.description {
			overflow: hidden; /* Ensures content doesn't overflow */
			text-overflow: ellipsis; /* Adds the ellipsis ("...") */
			display: -webkit-box; /* Required for truncating text with ellipsis */
			-webkit-line-clamp: 3; /* Limits text to 3 lines */
			-webkit-box-orient: vertical; /* Specifies vertical box orientation */
			/* For standard browsers */
			display: box; /* Fallback for older syntax */
			box-orient: vertical; /* Fallback */
			line-clamp: 3; /* For modern browsers */
			position: relative;
			cursor: pointer;
			line-height: 1.5; /* Space between lines */
			max-height: calc(1.5rem * 3); /* Limit height to 3 lines */
			white-space: normal; /* Ensures text wraps */
			transition: all 0.5s ease-in-out; /* Adds smooth transition */
		}

		/* Expanded View on Hover */
		.description:hover {
			overflow: visible; /* Removes overflow restriction */
			background: #383848;
			padding: 10px;
			border-radius: 8px;
			position: relative;
			z-index: 10;
			max-height: none; /* Removes height limit */
			box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
			line-height: 1.5; /* Consistent line spacing */
			text-overflow: unset; /* Removes ellipsis */
			white-space: normal; /* Allows text to wrap */
		}


		/* Form Container Styling */
		.form-container {
			background-color: #1e1e2f;
			padding: 15px;
			border-radius: 8px;
			margin-top: 10px;
			width: 350px;
			box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
			display: none;
		}

		.form-container label {
			color: #fff;
			font-size: 0.9rem;
		}

		.form-container input[type="text"] {
			width: 100%;
			padding: 8px 10px;
			border: none;
			border-radius: 5px;
			font-size: 0.9rem;
			margin-bottom: 10px;
		}

		.form-buttons {
			display: flex;
			justify-content: space-between;
			gap: 10px;
		}

		.form-container input[type="submit"],
		.form-container .btn-cancel {
			padding: 8px 15px;
			border: none;
			border-radius: 5px;
			font-size: 1rem;
			cursor: pointer;
			transition: background-color 0.3s ease;
			width: 48%;
		}

		.form-container input[type="submit"] {
			background-color: #4caf50;
			color: #fff;
		}

		.form-container input[type="submit"]:hover {
			background-color: #388e3c;
		}

		.form-container .btn-cancel {
			background-color: #f44336;
			color: #fff;
		}

		.form-container .btn-cancel:hover {
			background-color: #d32f2f;
		}

		/* Register Button Styling */
		.btn-register {
			background-color: #4caf50; /* Initial green color */
			color: #fff; /* White text */
			padding: 5PX 10px; /* Adds padding for better spacing */
			border: none; /* Removes default border */
			border-radius: 5px; /* Rounded edges */
			text-decoration: none; /* Removes underline */
			font-size: 1rem; /* Increases font size for readability */
			font-weight: bold; /* Makes text bold */
			text-align: center; /* Centers text */
			display: inline-block; /* Ensures the button behaves like a block element */
			transition: background-color 0.3s ease, transform 0.2s ease; /* Smooth hover effects */
			cursor: pointer; /* Pointer cursor on hover */
		}

		/* Hover Effect for Register Button */
		.btn-register:hover {
			background-color: #388e3c; /* Darker green on hover */
			transform: scale(1.05); /* Slightly enlarges button on hover */
		}

		/* Disabled Register Button Styling (optional if needed) */
		.btn-register.disabled, 
		.btn-register:disabled {
			background-color: #ccc; /* Gray background for disabled state */
			cursor: not-allowed; /* Indicates the button is not clickable */
			color: #777; /* Light gray text */
			opacity: 0.7; /* Slightly faded */
			pointer-events: none; /* Disables click events */
		}

	</style>



	<!-- Search Bar STYLE -->
	<style>
		/* Search Bar Styling */
		.search-bar {
			width: 100%; /* Full width of the parent container */
			display: flex;
			justify-content: center; /* Centers the search bar horizontally */
			margin-bottom: 20px; /* Adds spacing between the search bar and the grid */
		}

		.search-bar input {
			width: 80%; /* Width of the search input relative to the container */
			max-width: 500px; /* Limits the search bar width */
			padding: 10px 15px;
			border: 1px solid #ccc; /* Adds a light border */
			border-radius: 5px; /* Rounded corners for the input */
			font-size: 1rem;
			color: #333; /* Input text color */
			transition: border-color 0.3s ease;
		}

		.search-bar input:focus {
			outline: none;
			border-color: #fd44a0; /* Changes border color on focus */
			box-shadow: 0 0 8px rgba(253, 68, 160, 0.5); /* Adds a subtle glow effect */
		}
		/* Tournament Section Adjustments */
		.tournament-section {
			padding: 10px;
			background-color: #f9f9f9; /* Subtle background for contrast */
			border-radius: 8px; /* Rounded corners for the section */
			box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); /* Soft shadow */
		}
	</style>

	<!-- Search Bar SCRIPT + PAGINATION-->
	<script>
		document.addEventListener("DOMContentLoaded", function () {
			const cardsPerPage = 3; // Number of cards to display per page
			const grid = document.getElementById("tournamentGrid");
			const allCards = Array.from(grid.children); // Get all card elements
			let filteredCards = [...allCards]; // Start with all cards
			let currentPage = 1;

			// Function to render cards on the current page
			function renderPage(page) {
				// Hide all cards
				allCards.forEach(card => (card.style.display = "none"));

				// Calculate start and end index for the current page
				const startIdx = (page - 1) * cardsPerPage;
				const endIdx = startIdx + cardsPerPage;

				// Show cards for the current page (filtered list)
				filteredCards.slice(startIdx, endIdx).forEach(card => (card.style.display = "block"));

				// Update pagination controls
				const totalPages = Math.ceil(filteredCards.length / cardsPerPage);
				document.getElementById("pageInfo").textContent = `Page ${page} of ${totalPages}`;
				document.getElementById("prevPage").disabled = page === 1;
				document.getElementById("firstPage").disabled = page === 1;
				document.getElementById("nextPage").disabled = page === totalPages;
				document.getElementById("lastPage").disabled = page === totalPages;
			}

			// Function to handle search
			function handleSearch() {
				const searchInput = document.getElementById("searchBar").value.toLowerCase();

				// Filter cards based on the search input
				filteredCards = allCards.filter(card => {
					const name = card.getAttribute("data-name").toLowerCase();
					const location = card.getAttribute("data-location").toLowerCase();
					const game = card.getAttribute("data-game").toLowerCase();
					return name.includes(searchInput) || game.includes(searchInput) || location.includes(searchInput);
				});

				// Reset to the first page and render
				currentPage = 1;
				renderPage(currentPage);
			}

			// Event listener for search bar input
			document.getElementById("searchBar").addEventListener("input", handleSearch);

			// Event listeners for pagination buttons
			document.getElementById("firstPage").addEventListener("click", function () {
				currentPage = 1;
				renderPage(currentPage);
			});

			document.getElementById("prevPage").addEventListener("click", function () {
				if (currentPage > 1) {
					currentPage--;
					renderPage(currentPage);
				}
			});

			document.getElementById("nextPage").addEventListener("click", function () {
				const totalPages = Math.ceil(filteredCards.length / cardsPerPage);
				if (currentPage < totalPages) {
					currentPage++;
					renderPage(currentPage);
				}
			});

			document.getElementById("lastPage").addEventListener("click", function () {
				const totalPages = Math.ceil(filteredCards.length / cardsPerPage);
				currentPage = totalPages;
				renderPage(currentPage);
			});

			// Initial render
			renderPage(currentPage);
		});


	</script>

	<!-- Pagination Script (NOW INTEGRATED WITHIN FILTERING/SEARCH BAR) -->
	<!-- Pagination style -->
	<style>
		.pagination-controls {
			display: flex;
			justify-content: center;
			margin-top: 20px;
			gap: 15px;
			align-items: center;
			font-family: 'Arial', sans-serif;
		}

		.pagination-controls button {
			background-color: #ff0080; /* Bright pink for a vibrant look */
			color: #ffffff;
			border: none;
			border-radius: 10px; /* Rounded buttons for modern look */
			padding: 10px 20px;
			cursor: pointer;
			font-size: 1rem;
			transition: all 0.3s ease-in-out;
			box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2); /* Slight shadow for depth */
		}

		.pagination-controls button:hover:not(:disabled) {
			background-color: #ff4da6; /* Slightly lighter pink on hover */
			transform: translateY(-2px); /* Lift the button slightly */
			box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3); /* Enhanced shadow on hover */
		}

		.pagination-controls button:disabled {
			background-color: #e0e0e0;
			color: #a0a0a0;
			cursor: not-allowed;
			box-shadow: none; /* Remove shadow for disabled buttons */
		}

		.pagination-controls span {
			font-size: 1rem;
			color: #f254a3;
			font-weight: bold;
			padding: 5px 15px;
			background: #f3f3f3;
			border-radius: 10px; /* Rounded background for span */
			box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1); /* Subtle shadow for span */
			display: inline-block;
			text-align: center;
		}

	</style>




	<!-- TOURNAMENT_START -->
	<div class="element_page">
		<!-- Tournament Section -->
		<div class="tournament-section">
			<!-- Search Bar -->
			<div class="search-bar">
				<input type="text" id="searchBar" placeholder="Enter a Tournament Name, Game or Location.">
			</div>
			<!-- Grid Container -->
			<div class="tournament-grid" id="tournamentGrid">
				{% for tournament in tournaments %}
				<!-- Tournament Wrapper -->
				<div class="tournament-wrapper" data-name="{{ tournament.name }}" data-location="{{ tournament.location }}" data-game="{{ tournament.game }}">
					<!-- Tournament Card -->
					<div class="tournament-card">
						<!-- Card Header -->
						<div class="card-header">
							<h3>{{ tournament.name }}</h3>
							<span class="status {{ tournament.status }}">{{ tournament.status }}</span>
						</div>
						<!-- Card Body -->
						<div class="card-body">
							<p class="description" data-full-description="{{ tournament.description }}">
								<i class="fas fa-info-circle"></i>
								<strong>Description:</strong> 
								<span>{{ tournament.description }}</span>
							</p>
							<p><i class="fas fa-calendar-alt"></i> <strong>Start Date:</strong> {{ tournament.start_date }}</p>
							<p><i class="fas fa-map-marker-alt"></i> <strong>Location:</strong> {{ tournament.location }}</p>
							<p><i class="fas fa-tag"></i> <strong>Price:</strong> {{ tournament.price }}</p>
							<p><i class="fas fa-trophy"></i> <strong>Prize:</strong> {{ tournament.prize }}</p>
							<p><i class="fas fa-users"></i> <strong>Team Size:</strong> {{ tournament.team_size }}</p>
							<p><i class="fas fa-gamepad"></i> <strong>Game:</strong> {{ tournament.game }}</p>
						</div>
						<!-- Card Footer -->
						<div class="card-footer">
							{% if user.is_authenticated %}
								{% if user.role == 'Sponsor' %}
									<!-- Sponsor Button -->
									<a href="{% url 'sponsorship_form_preselected' tournament.id %}" class="btn-register" id="sponsor-btn-{{ tournament.id }}">
										Sponsor
									</a>
								{% else %}
									<!-- Active Register Button for Logged-in Users -->
									<a href="#" 
									onclick="toggleForm('{{ tournament.id }}'); return false;" 
									class="btn-register" 
									id="register-btn-{{ tournament.id }}">
										Register
									</a>
								{% endif %}
							{% else %}
								<!-- Disabled Button for Logged-out Users -->
								<a href="#" 
								class="btn-register disabled" 
								id="register-btn-{{ tournament.id }}" 
								disabled
								title="Please log in to register">
									Register
								</a>
							{% endif %}
						</div>
					</div>

					<!-- Registration Form -->
					<div id="form-container-{{ tournament.id }}" class="form-container">
						<form id="{{ tournament.id }}" action="{% url 'process_payment' tournament.id %}" method="post">
							{% csrf_token %}
							<label for="team_name">Team Name</label>
							<input type="text" name="team_name" required placeholder="Enter your team name">
							<div class="form-buttons">
								<input type="submit" value="Submit">
								<button type="button" class="btn-cancel" onclick="toggleForm('{{ tournament.id }}')">Cancel</button>
							</div>
						</form>
					</div>
				</div>
				{% empty %}
				<div class="no-tournaments">No tournaments available.</div>
				{% endfor %}
			</div>

			<!-- Pagination Controls -->
			<div class="pagination-controls">
				<button id="firstPage" disabled>First</button>
				<button id="prevPage" disabled>Previous</button>
				<span id="pageInfo"></span>
				<button id="nextPage">Next</button>
				<button id="lastPage">Last</button>
			</div>
		</div>
	</div>
	<!-- TOURNAMENT_END -->



	<!-- Toggle Form Script -->
	<script>
		function toggleForm(tournamentId) {
			const formContainer = document.getElementById(`form-container-${tournamentId}`);
			const registerBtn = document.getElementById(`register-btn-${tournamentId}`);
	
			// Hide all other forms
			const allForms = document.querySelectorAll('.form-container');
			allForms.forEach(form => {
				if (form !== formContainer) {
					form.style.display = "none";
				}
			});
	
			// Toggle current form
			if (formContainer.style.display === "none" || formContainer.style.display === "") {
				formContainer.style.display = "block"; // Show the form
				registerBtn.innerHTML = "Cancel"; // Change button text to Cancel
			} else {
				formContainer.style.display = "none"; // Hide the form
				registerBtn.innerHTML = "Register"; // Reset button text to Register
			}
		}
	</script>
	
	<!-- TOURNAMENTS_END -->
	


		
	
	<!--::footer_part start::-->
	<footer class="footer_part black">
		<div class="footer_top">
			<div class="container">
				<div class="row">
					<div class="col-sm-6 col-lg-3">
						<div class="single_footer_part">
							<a href="" class="footer_logo_iner"> <img src="{% static 'img/logo.png' %}" alt="#"> </a>
							<p>Heaven fruitful doesn't over lesser days appear creeping seasons so behold bearing
								days
								open
							</p>
						</div>
					</div>
					<div class="col-sm-6 col-lg-3">
						<div class="single_footer_part">
							<h4>Contact Info</h4>
							<p>Address : Your address goes
								here, your demo address.
								Bangladesh.</p>
							<p>Phone : +8880 44338899</p>
							<p>Email : info@colorlib.com</p>
						</div>
					</div>
					<div class="col-sm-6 col-lg-3">
						<div class="single_footer_part">
							<h4>Important Link</h4>
							<ul class="list-unstyled">
								<li><a href=""> WHMCS-bridge</a></li>
								<li><a href="">Search Domain</a></li>
								<li><a href="">My Account</a></li>
								<li><a href="">Shopping Cart</a></li>
								<li><a href="">Our Shop</a></li>
							</ul>
						</div>
					</div>
					<div class="col-sm-6 col-lg-3">
						<div class="single_footer_part">
							<h4>Newsletter</h4>
							<p>Heaven fruitful doesn't over lesser in days. Appear creeping seasons deve behold
								bearing
								days
								open
							</p>
							<div id="mc_embed_signup">
								<form target="_blank"
									action="https://spondonit.us12.list-manage.com/subscribe/post?u=1462626880ade1ac87bd9c93a&amp;id=92a4423d01"
									method="get" class="subscribe_form relative mail_part">
									<input type="email" name="email" id="newsletter-form-email"
										placeholder="Email Address" class="placeholder hide-on-focus"
										onfocus="this.placeholder = ''" onblur="this.placeholder = ' Email Address '">
									<button type="submit" name="submit" id="newsletter-submit"
										class="email_icon newsletter-submit button-contactForm"><i
											class="far fa-paper-plane"></i></button>
									<div class="mt-10 info"></div>
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="copygight_text">
			<div class="container">
				<div class="row align-items-center">
					<div class="col-lg-8">
						<div class="copyright_text">
							<P><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="ti-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></P>
						</div>
					</div>
					<div class="col-lg-4">
						<div class="footer_icon social_icon">
							<ul class="list-unstyled">
								<li><a href="#" class="single_social_icon"><i class="fab fa-facebook-f"></i></a>
								</li>
								<li><a href="#" class="single_social_icon"><i class="fab fa-twitter"></i></a></li>
								<li><a href="#" class="single_social_icon"><i class="fas fa-globe"></i></a></li>
								<li><a href="#" class="single_social_icon"><i class="fab fa-behance"></i></a></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</footer>
	<!--::footer_part end::-->
	<!-- jquery plugins here-->
	<script src="{% static 'js/jquery-1.12.1.min.js' %}"></script>
	<!-- popper js -->
	<script src="{% static 'js/popper.min.js' %}"></script>
	<!-- bootstrap js -->
	<script src="{% static 'js/bootstrap.min.js' %}"></script>
	<!-- easing js -->
	<script src="{% static 'js/jquery.magnific-popup.js' %}"></script>
	<!-- swiper js -->
	<script src="{% static 'js/swiper.min.js' %}"></script>
	<!-- swiper js -->
	<script src="{% static 'js/masonry.pkgd.js' %}"></script>
	<!-- particles js -->
	<script src="{% static 'js/owl.carousel.min.js' %}"></script>
	<script src="{% static 'js/jquery.nice-select.min.js' %}"></script>
	<!-- slick js -->
	<script src="{% static 'js/slick.min.js' %}"></script>
	<script src="{% static 'js/jquery.counterup.min.js' %}"></script>
	<script src="{% static 'js/waypoints.min.js' %}"></script>
	<script src="{% static 'js/contact.js' %}"></script>
	<script src="{% static 'js/jquery.ajaxchimp.min.js' %}"></script>
	<script src="{% static 'js/jquery.form.js' %}"></script>
	<script src="{% static 'js/jquery.validate.min.js' %}"></script>
	<script src="{% static 'js/mail-script.js' %}"></script>
	<!-- custom js -->
	<script src="{% static 'js/custom.js' %}"></script>
</body>

</html>

      <!-- Script START for voice commands -->
      <script>
        // Helper function to get CSRF token
        function getCookie(name) {
            let cookieValue = null;
            if (document.cookie && document.cookie !== "") {
                const cookies = document.cookie.split(";");
                for (let i = 0; i < cookies.length; i++) {
                    const cookie = cookies[i].trim();
                    if (cookie.substring(0, name.length + 1) === name + "=") {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }
        const csrftoken = getCookie("csrftoken");
    
        async function startVoiceCommand() {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    
            if (!SpeechRecognition) {
                alert("Your browser does not support the Web Speech API. Please use Chrome or Edge.");
                return;
            }
    
            const recognition = new SpeechRecognition();
            recognition.lang = "en-US";
            recognition.interimResults = false;
            recognition.maxAlternatives = 1;
    
            recognition.start();
    
            recognition.onresult = async (event) => {
                const transcript = event.results[0][0].transcript;
    
                try {
                    // Step 1: Send transcript to classify the command
                    const classifyResponse = await fetch("/api/voice-command/", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                            "X-CSRFToken": csrftoken,
                        },
                        body: JSON.stringify({ text: transcript }),
                    });
    
                    const classifyResult = await classifyResponse.json();
                    if (classifyResult.error) {
                        alert(`Error: ${classifyResult.error}`);
                        return;
                    }
    
                    const { command } = classifyResult;
    
                    // Step 2: Get the resolved URL
                    const redirectResponse = await fetch("/api/voice-command-redirect/", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                            "X-CSRFToken": csrftoken,
                        },
                        body: JSON.stringify({ command }),
                    });
    
                    const redirectResult = await redirectResponse.json();
                    if (redirectResult.redirect_url) {
                        // Redirect to the resolved URL
                        window.location.href = redirectResult.redirect_url;
                    } else if (redirectResult.error) {
                        alert(`Error: ${redirectResult.error}`);
                    }
                } catch (error) {
                    alert(`Error: ${error.message}`);
                }
            };
    
            recognition.onerror = (event) => {
                alert(`Error: ${event.error}`);
            };
        }
      </script>
      <!-- Script END for voice commands -->